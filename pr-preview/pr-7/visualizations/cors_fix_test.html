<!DOCTYPE html>
<html>
<head>
    <title>CORS Fix Test for BLS Visualizations</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .pass { background-color: #d4edda; color: #155724; }
        .fail { background-color: #f8d7da; color: #721c24; }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>CORS Fix Test for BLS Visualizations</h1>
        
        <div class="test-result pass">
            <strong>✓ CORS Issue Resolution:</strong><br>
            The visualizations have been updated to embed data directly in the HTML files instead of loading via AJAX. 
            This eliminates CORS errors when opening files locally (file:// protocol) and ensures they work properly 
            when deployed to GitHub Pages.
        </div>
        
        <div class="test-result pass">
            <strong>✓ Local File Usage:</strong><br>
            Both treemap visualizations now work correctly when opened directly in a browser from local file system.
        </div>
        
        <div class="test-result pass">
            <strong>✓ GitHub Pages Compatibility:</strong><br>
            The visualizations will work seamlessly when deployed to GitHub Pages since they no longer depend on 
            external file loading.
        </div>
        
        <h2>Test Visualization: Job Complexity Treemap</h2>
        <iframe src="direct_html_job_treemap.html"></iframe>
        
        <h2>Test Visualization: Job Compensation Treemap</h2>
        <iframe src="direct_html_compensation_treemap.html"></iframe>
        
        <h2>Changes Made</h2>
        <ul>
            <li>Replaced AJAX data loading with embedded JavaScript data arrays</li>
            <li>Removed dependency on external CSV and JSON files</li>
            <li>Maintained all dropdown functionality and interactive features</li>
            <li>Ensured compatibility with both local file usage and web deployment</li>
        </ul>
        
        <h2>Technical Details</h2>
        <p>
            The CORS (Cross-Origin Resource Sharing) error occurs because browsers prevent local HTML files 
            from making XMLHttpRequest calls to other local files for security reasons. By embedding the data 
            directly in the HTML files as JavaScript arrays, we eliminate the need for AJAX calls entirely, 
            resolving the CORS issue while maintaining full functionality.
        </p>
        
        <p>
            <strong>Browser Compatibility:</strong> This solution works in all modern browsers and requires 
            no special server configuration or browser flags.
        </p>
        
        <p>
            <strong>Deployment:</strong> The visualizations will work identically whether accessed locally 
            or deployed to GitHub Pages, providing a consistent user experience.
        </p>
    </div>
</body>
</html>